(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[90],{1179:function(e,s,a){},1678:function(e,s,a){"use strict";a.r(s);var c=a(1),t=a(16),l=a.n(t),i=a(480),n=a(148),r=a(130),j=a(2),d=a.n(j),h=a(513),b=a.n(h),o=a(894),m=a(893),O=a(903),x=a(944),u=a(914),N=a(899),g=a(895),f=a(878),p=a(915),v=a(89),w=a(9);var k=e=>{const{handleUser:s,handleUserSidebarRight:a,handleSidebar:t,store:j,userSidebarLeft:h}=e,{userProfile:k,selectedUser:y}=j,C=Object(c.useRef)(null),S=Object(r.b)(),[z,M]=Object(c.useState)("");Object(c.useEffect)((()=>{Object.keys(y).length&&(l.a.findDOMNode(C.current).scrollTop=Number.MAX_SAFE_INTEGER)}),[y]);const U=Object.keys(y).length&&y.chat?b.a:"div";return Object(w.jsxs)("div",{className:"chat-app-window",children:[Object(w.jsxs)("div",{className:d()("start-chat-area",{"d-none":Object.keys(y).length}),children:[Object(w.jsx)("div",{className:"start-chat-icon mb-1",children:Object(w.jsx)(o.a,{})}),Object(w.jsx)("h4",{className:"sidebar-toggle start-chat-text",onClick:()=>{!Object.keys(y).length&&!h&&window.innerWidth<992&&t()},children:"Start Conversation"})]}),Object.keys(y).length?Object(w.jsxs)("div",{className:d()("active-chat",{"d-none":null===y}),children:[Object(w.jsx)("div",{className:"chat-navbar",children:Object(w.jsxs)("header",{className:"chat-header",children:[Object(w.jsxs)("div",{className:"d-flex align-items-center",children:[Object(w.jsx)("div",{className:"sidebar-toggle d-block d-lg-none me-1",onClick:t,children:Object(w.jsx)(m.a,{size:21})}),Object(w.jsx)(i.a,{imgHeight:"36",imgWidth:"36",img:y.contact.avatar,status:y.contact.status,className:"avatar-border user-profile-toggle m-0 me-1",onClick:()=>{return e=y.contact,a(),void s(e);var e}}),Object(w.jsx)("h6",{className:"mb-0",children:y.contact.fullName})]}),Object(w.jsxs)("div",{className:"d-flex align-items-center",children:[Object(w.jsx)(O.a,{size:18,className:"cursor-pointer d-sm-block d-none me-1"}),Object(w.jsx)(x.a,{size:18,className:"cursor-pointer d-sm-block d-none me-1"}),Object(w.jsx)(u.a,{size:18,className:"cursor-pointer d-sm-block d-none"}),Object(w.jsxs)(v.wb,{className:"more-options-dropdown",children:[Object(w.jsx)(v.G,{className:"btn-icon",color:"transparent",size:"sm",children:Object(w.jsx)(N.a,{size:"18"})}),Object(w.jsxs)(v.F,{end:!0,children:[Object(w.jsx)(v.E,{href:"/",onClick:e=>e.preventDefault(),children:"View Contact"}),Object(w.jsx)(v.E,{href:"/",onClick:e=>e.preventDefault(),children:"Mute Notifications"}),Object(w.jsx)(v.E,{href:"/",onClick:e=>e.preventDefault(),children:"Block Contact"}),Object(w.jsx)(v.E,{href:"/",onClick:e=>e.preventDefault(),children:"Clear Chat"}),Object(w.jsx)(v.E,{href:"/",onClick:e=>e.preventDefault(),children:"Report"})]})]})]})]})}),Object(w.jsx)(U,{ref:C,className:"user-chats",options:{wheelPropagation:!1},children:y.chat?Object(w.jsx)("div",{className:"chats",children:(()=>{let e=[];y.chat&&(e=y.chat.chat);const s=[];let a=e[0]?e[0].senderId:void 0,c={senderId:a,messages:[]};return e.forEach(((t,l)=>{a===t.senderId?c.messages.push({msg:t.message,time:t.time}):(a=t.senderId,s.push(c),c={senderId:t.senderId,messages:[{msg:t.message,time:t.time}]}),l===e.length-1&&s.push(c)})),s})().map(((e,s)=>Object(w.jsxs)("div",{className:d()("chat",{"chat-left":11!==e.senderId}),children:[Object(w.jsx)("div",{className:"chat-avatar",children:Object(w.jsx)(i.a,{imgWidth:36,imgHeight:36,className:"box-shadow-1 cursor-pointer",img:11===e.senderId?k.avatar:y.contact.avatar})}),Object(w.jsx)("div",{className:"chat-body",children:e.messages.map((e=>Object(w.jsx)("div",{className:"chat-content",children:Object(w.jsx)("p",{children:e.msg})},e.msg)))})]},s)))}):null}),Object(w.jsxs)(v.H,{className:"chat-app-form",onSubmit:e=>(e=>{e.preventDefault(),z.length&&(S(Object(n.e)({...y,message:z})),M(""))})(e),children:[Object(w.jsxs)(v.L,{className:"input-group-merge me-1 form-send-message",children:[Object(w.jsx)(v.M,{children:Object(w.jsx)(g.a,{className:"cursor-pointer",size:14})}),Object(w.jsx)(v.K,{value:z,onChange:e=>M(e.target.value),placeholder:"Type your message or use speech to text"}),Object(w.jsx)(v.M,{children:Object(w.jsxs)(v.N,{className:"attachment-icon mb-0",for:"attach-doc",children:[Object(w.jsx)(f.a,{className:"cursor-pointer text-secondary",size:14}),Object(w.jsx)("input",{type:"file",id:"attach-doc",hidden:!0})]})})]}),Object(w.jsxs)(v.i,{className:"send",color:"primary",children:[Object(w.jsx)(p.a,{size:14,className:"d-lg-none"}),Object(w.jsx)("span",{className:"d-none d-lg-block",children:"Send"})]})]})]}):null]})},y=a(490),C=a(799),S=a(832),z=a(824),M=a(942),U=a(933);var E=e=>{const{store:s,sidebar:a,handleSidebar:t,userSidebarLeft:l,handleUserSidebarLeft:j}=e,{chats:h,contacts:o,userProfile:m}=s,O=Object(r.b)(),[x,N]=Object(c.useState)(""),[g,f]=Object(c.useState)(""),[p,k]=Object(c.useState)(0),[E,I]=Object(c.useState)("online"),[D,L]=Object(c.useState)([]),[R,A]=Object(c.useState)([]),K=e=>{O(Object(n.d)(e)),k(e),!0===a&&t()};Object(c.useEffect)((()=>{Object(y.f)(s.selectedUser)||(s.selectedUser.chat?k(s.selectedUser.chat.id):k(s.selectedUser.contact.id))}),[]);return s?Object(w.jsx)("div",{className:"sidebar-left",children:Object(w.jsxs)("div",{className:"sidebar",children:[Object(w.jsxs)("div",{className:d()("chat-profile-sidebar",{show:l}),children:[Object(w.jsxs)("header",{className:"chat-profile-header",children:[Object(w.jsx)("div",{className:"close-icon",onClick:j,children:Object(w.jsx)(C.a,{size:14})}),Object(w.jsxs)("div",{className:"header-profile-sidebar",children:[Object(w.jsx)(i.a,{className:"box-shadow-1 avatar-border",img:m.avatar,status:E,size:"xl"}),Object(w.jsx)("h4",{className:"chat-user-name",children:m.fullName}),Object(w.jsx)("span",{className:"user-post",children:m.role})]})]}),Object(w.jsxs)(b.a,{className:"profile-sidebar-area",options:{wheelPropagation:!1},children:[Object(w.jsx)("h6",{className:"section-label mb-1",children:"About"}),Object(w.jsxs)("div",{className:"about-user",children:[Object(w.jsx)(v.K,{rows:"5",type:"textarea",defaultValue:m.about,onChange:e=>f(e.target.value),className:d()("char-textarea",{"text-danger":g&&g.length>120})}),Object(w.jsxs)("small",{className:"counter-value float-end",children:[Object(w.jsx)("span",{className:"char-count",children:m&&m.about&&m.about.length&&0===g.length?m.about.length:g.length})," / 120"]})]}),Object(w.jsx)("h6",{className:"section-label mb-1 mt-3",children:"Status"}),Object(w.jsxs)("ul",{className:"list-unstyled user-status",children:[Object(w.jsx)("li",{className:"pb-1",children:Object(w.jsxs)("div",{className:"form-check form-check-success",children:[Object(w.jsx)(v.K,{type:"radio",label:"Online",id:"user-online",checked:"online"===E,onChange:()=>I("online")}),Object(w.jsx)(v.N,{className:"form-check-label",for:"user-online",children:"Online"})]})}),Object(w.jsx)("li",{className:"pb-1",children:Object(w.jsxs)("div",{className:"form-check form-check-danger",children:[Object(w.jsx)(v.K,{type:"radio",id:"user-busy",label:"Do Not Disturb",checked:"busy"===E,onChange:()=>I("busy")}),Object(w.jsx)(v.N,{className:"form-check-label",for:"user-busy",children:"Busy"})]})}),Object(w.jsx)("li",{className:"pb-1",children:Object(w.jsxs)("div",{className:"form-check form-check-warning",children:[Object(w.jsx)(v.K,{type:"radio",label:"Away",id:"user-away",checked:"away"===E,onChange:()=>I("away")}),Object(w.jsx)(v.N,{className:"form-check-label",for:"user-away",children:"Away"})]})}),Object(w.jsx)("li",{className:"pb-1",children:Object(w.jsxs)("div",{className:"form-check form-check-secondary",children:[Object(w.jsx)(v.K,{type:"radio",label:"Offline",id:"user-offline",checked:"offline"===E,onChange:()=>I("offline")}),Object(w.jsx)(v.N,{className:"form-check-label",for:"user-offline",children:"Offline"})]})})]}),Object(w.jsx)("h6",{className:"section-label mb-1 mt-2",children:"Settings"}),Object(w.jsxs)("ul",{className:"list-unstyled",children:[Object(w.jsxs)("li",{className:"d-flex justify-content-between align-items-center mb-1",children:[Object(w.jsxs)("div",{className:"d-flex align-items-center",children:[Object(w.jsx)(S.a,{className:"me-75",size:"18"}),Object(w.jsx)("span",{className:"align-middle",children:"Two-step Verification"})]}),Object(w.jsx)("div",{className:"form-switch",children:Object(w.jsx)(v.K,{type:"switch",id:"verification",name:"verification",defaultChecked:!0})})]}),Object(w.jsxs)("li",{className:"d-flex justify-content-between align-items-center mb-1",children:[Object(w.jsxs)("div",{className:"d-flex align-items-center",children:[Object(w.jsx)(z.a,{className:"me-75",size:"18"}),Object(w.jsx)("span",{className:"align-middle",children:"Notification"})]}),Object(w.jsx)("div",{className:"form-switch",children:Object(w.jsx)(v.K,{type:"switch",id:"notifications",name:"notifications"})})]}),Object(w.jsxs)("li",{className:"d-flex align-items-center cursor-pointer mb-1",children:[Object(w.jsx)(M.a,{className:"me-75",size:"18"}),Object(w.jsx)("span",{className:"align-middle",children:"Invite Friends"})]}),Object(w.jsxs)("li",{className:"d-flex align-items-center cursor-pointer",children:[Object(w.jsx)(U.a,{className:"me-75",size:"18"}),Object(w.jsx)("span",{className:"align-middle",children:"Delete Account"})]})]}),Object(w.jsx)("div",{className:"mt-3",children:Object(w.jsx)(v.i,{color:"primary",children:"Logout"})})]})]}),Object(w.jsxs)("div",{className:d()("sidebar-content",{show:!0===a}),children:[Object(w.jsx)("div",{className:"sidebar-close-icon",onClick:t,children:Object(w.jsx)(C.a,{size:14})}),Object(w.jsx)("div",{className:"chat-fixed-search",children:Object(w.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(w.jsx)("div",{className:"sidebar-profile-toggle",onClick:j,children:Object.keys(m).length?Object(w.jsx)(i.a,{className:"avatar-border",img:m.avatar,status:E,imgHeight:"42",imgWidth:"42"}):null}),Object(w.jsxs)(v.L,{className:"input-group-merge ms-1 w-100",children:[Object(w.jsx)(v.M,{className:"round",children:Object(w.jsx)(u.a,{className:"text-muted",size:14})}),Object(w.jsx)(v.K,{value:x,className:"round",placeholder:"Search or start a new chat",onChange:e=>{N(e.target.value);const s=s=>s.fullName.toLowerCase().includes(e.target.value.toLowerCase()),a=h.filter(s),c=o.filter(s);L([...a]),A([...c])}})]})]})}),Object(w.jsxs)(b.a,{className:"chat-user-list-wrapper list-group",options:{wheelPropagation:!1},children:[Object(w.jsx)("h4",{className:"chat-list-title",children:"Chats"}),Object(w.jsx)("ul",{className:"chat-users-list chat-list media-list",children:(()=>{if(h&&h.length){if(x.length&&!D.length)return Object(w.jsx)("li",{className:"no-results show",children:Object(w.jsx)("h6",{className:"mb-0",children:"No Chats Found"})});return(x.length&&D.length?D:h).map((e=>{const s=Object(y.b)(e.chat.lastMessage?e.chat.lastMessage.time:new Date);return Object(w.jsxs)("li",{onClick:()=>K(e.id),className:d()({active:p===e.id}),children:[Object(w.jsx)(i.a,{img:e.avatar,imgHeight:"42",imgWidth:"42",status:e.status}),Object(w.jsxs)("div",{className:"chat-info flex-grow-1",children:[Object(w.jsx)("h5",{className:"mb-0",children:e.fullName}),Object(w.jsx)(v.u,{className:"text-truncate",children:e.chat.lastMessage?e.chat.lastMessage.message:h[h.length-1].message})]}),Object(w.jsxs)("div",{className:"chat-meta text-nowrap",children:[Object(w.jsx)("small",{className:"float-end mb-25 chat-time ms-25",children:s}),e.chat.unseenMsgs>=1?Object(w.jsx)(v.f,{className:"float-end",color:"danger",pill:!0,children:e.chat.unseenMsgs}):null]})]},e.id)}))}return null})()}),Object(w.jsx)("h4",{className:"chat-list-title",children:"Contacts"}),Object(w.jsx)("ul",{className:"chat-users-list contact-list media-list",children:(()=>{if(o&&o.length){if(x.length&&!R.length)return Object(w.jsx)("li",{className:"no-results show",children:Object(w.jsx)("h6",{className:"mb-0",children:"No Chats Found"})});return(x.length&&R.length?R:o).map((e=>Object(w.jsxs)("li",{onClick:()=>K(e.id),children:[Object(w.jsx)(i.a,{img:e.avatar,imgHeight:"42",imgWidth:"42"}),Object(w.jsxs)("div",{className:"chat-info flex-grow-1",children:[Object(w.jsx)("h5",{className:"mb-0",children:e.fullName}),Object(w.jsx)(v.u,{className:"text-truncate",children:e.about})]})]},e.fullName)))}return null})()})]})]})]})}):null},I=a(890),D=a(840),L=a(929),R=a(927),A=a(923);var K=e=>{const{user:s,handleUserSidebarRight:a,userSidebarRight:c}=e;return Object(w.jsxs)("div",{className:d()("user-profile-sidebar",{show:!0===c}),children:[Object(w.jsxs)("header",{className:"user-profile-header",children:[Object(w.jsx)("span",{className:"close-icon",onClick:a,children:Object(w.jsx)(C.a,{size:14})}),Object(w.jsxs)("div",{className:"header-profile-sidebar",children:[Object(w.jsx)(i.a,{className:"box-shadow-1 avatar-border",size:"xl",status:s.status,img:s.avatar,imgHeight:"70",imgWidth:"70"}),Object(w.jsx)("h4",{className:"chat-user-name",children:s.fullName}),Object(w.jsx)("span",{className:"user-post",children:s.role})]})]}),Object(w.jsxs)(b.a,{className:"user-profile-sidebar-area",options:{wheelPropagation:!1},children:[Object(w.jsx)("h6",{className:"section-label mb-1",children:"About"}),Object(w.jsx)("p",{children:s.about}),Object(w.jsxs)("div",{className:"personal-info",children:[Object(w.jsx)("h6",{className:"section-label mb-1 mt-3",children:"Personal Information"}),Object(w.jsxs)("ul",{className:"list-unstyled",children:[Object(w.jsxs)("li",{className:"mb-1",children:[Object(w.jsx)(I.a,{className:"me-75",size:17}),Object(w.jsx)("span",{className:"align-middle",children:"lucifer@email.com"})]}),Object(w.jsxs)("li",{className:"mb-1",children:[Object(w.jsx)(O.a,{className:"me-50",size:17}),Object(w.jsx)("span",{className:"align-middle",children:" +1(123) 456 - 7890"})]}),Object(w.jsxs)("li",{children:[Object(w.jsx)(D.a,{className:"me-50",size:17}),Object(w.jsx)("span",{className:"align-middle",children:" Mon - Fri 10AM - 8PM"})]})]})]}),Object(w.jsxs)("div",{className:"more-options",children:[Object(w.jsx)("h6",{className:"section-label mb-1 mt-3",children:"Options"}),Object(w.jsxs)("ul",{className:"list-unstyled",children:[Object(w.jsxs)("li",{className:"cursor-pointer mb-1",children:[Object(w.jsx)(L.a,{className:"me-50",size:17}),Object(w.jsx)("span",{className:"align-middle",children:" Add Tag"})]}),Object(w.jsxs)("li",{className:"cursor-pointer mb-1",children:[Object(w.jsx)(R.a,{className:"me-50",size:17}),Object(w.jsx)("span",{className:"align-middle",children:" Important Contact"})]}),Object(w.jsxs)("li",{className:"cursor-pointer mb-1",children:[Object(w.jsx)(f.a,{className:"me-50",size:17}),Object(w.jsx)("span",{className:"align-middle",children:" Shared Media"})]}),Object(w.jsxs)("li",{className:"cursor-pointer mb-1",children:[Object(w.jsx)(U.a,{className:"me-50",size:17}),Object(w.jsx)("span",{className:"align-middle",children:" Delete Contact"})]}),Object(w.jsxs)("li",{className:"cursor-pointer",children:[Object(w.jsx)(A.a,{className:"me-75",size:17}),Object(w.jsx)("span",{className:"align-middle",children:"Block Contact"})]})]})]})]})]})};a(1179),a(693);s.default=()=>{const e=Object(r.b)(),s=Object(r.c)((e=>e.chat)),[a,t]=Object(c.useState)({}),[l,i]=Object(c.useState)(!1),[j,h]=Object(c.useState)(!1),[b,o]=Object(c.useState)(!1),m=()=>i(!l),O=()=>h(!j);return Object(c.useEffect)((()=>{e(Object(n.b)()),e(Object(n.c)())}),[e]),Object(w.jsxs)(c.Fragment,{children:[Object(w.jsx)(E,{store:s,sidebar:l,handleSidebar:m,userSidebarLeft:b,handleUserSidebarLeft:()=>o(!b)}),Object(w.jsx)("div",{className:"content-right",children:Object(w.jsx)("div",{className:"content-wrapper",children:Object(w.jsxs)("div",{className:"content-body",children:[Object(w.jsx)("div",{className:d()("body-content-overlay",{show:!0===j||!0===l||!0===b}),onClick:()=>{i(!1),h(!1),o(!1)}}),Object(w.jsx)(k,{store:s,handleUser:e=>t(e),handleSidebar:m,userSidebarLeft:b,handleUserSidebarRight:O}),Object(w.jsx)(K,{user:a,userSidebarRight:j,handleUserSidebarRight:O})]})})})]})}},480:function(e,s,a){"use strict";var c=a(1),t=a(2),l=a.n(t),i=a(89),n=a(9);const r=Object(c.forwardRef)(((e,s)=>{const{img:a,size:c,icon:t,color:r,status:j,badgeUp:d,content:h,tag:b,initials:o,imgWidth:m,className:O,badgeText:x,imgHeight:u,badgeColor:N,imgClassName:g,contentStyles:f,...p}=e;return Object(n.jsxs)(b,{className:l()("avatar",{[O]:O,["bg-".concat(r)]:r,["avatar-".concat(c)]:c}),ref:s,...p,children:[!1===a||void 0===a?Object(n.jsxs)("span",{className:l()("avatar-content",{"position-relative":d}),style:f,children:[o?(e=>{const s=[];return e.split(" ").forEach((e=>{s.push(e[0])})),s.join("")})(h):h,t||null,d?Object(n.jsx)(i.f,{color:N||"primary",className:"badge-sm badge-up",pill:!0,children:x||"0"}):null]}):Object(n.jsx)("img",{className:l()({[g]:g}),src:a,alt:"avatarImg",height:u&&!c?u:32,width:m&&!c?m:32}),j?Object(n.jsx)("span",{className:l()({["avatar-status-".concat(j)]:j,["avatar-status-".concat(c)]:c})}):null]})}));s.a=r,r.defaultProps={tag:"div"}},693:function(e,s,a){}}]);
//# sourceMappingURL=90.35250d06.chunk.js.map