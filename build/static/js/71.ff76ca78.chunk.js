(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[71],{1632:function(e,t,a){"use strict";a.r(t);var r=a(21),i=a(139),n=a(16),c=a(1),d=a(499),l=a(506),s=a.n(l),o=a(868),u=a(816),b=a(138),j=a(96),m=a(509),h=a(502),f=a(136),O=a(145),v=a(676),g=a(531),p=a(11);t.default=function(){var e=Object(h.a)().skin,t=Object(f.b)(),a=Object(v.a)(),l=a.createRatingProfileController,T=a.loadings,x=Object(c.useState)(null),P=Object(n.a)(x,2),I=P[0],y=P[1],q=Object(c.useState)({ActivationTime:"",RatingPlanId:"",FallbackKeys:""}),R=Object(n.a)(q,2),N=R[0],C=R[1],S=Object(f.c)((function(e){return e.ratingProfiles.slots}));return Object(c.useEffect)((function(){t(Object(O.d)([]))}),[]),Object(p.jsxs)(c.Fragment,{children:[Object(p.jsx)(d.a,{title:"New Rating Profile",data:[{title:"New Rating Profile"}]}),Object(p.jsx)(j.H,{onSubmit:function(e){e.preventDefault(),window.scroll({top:0,behavior:"smooth"}),l.handleSubmit()},className:"d-flex flex-column align-items-center",children:Object(p.jsxs)(j.l,{className:"w-100",children:[Object(p.jsx)(j.p,{className:"border-bottom",children:Object(p.jsx)(j.v,{children:"New Rating Profile Form"})}),Object(p.jsxs)(j.m,{className:"pt-2",children:[Object(p.jsxs)(j.ib,{className:"border-bottom mb-1",children:[Object(p.jsxs)(j.B,{xs:"12",sm:"6",md:"4",className:"mb-1",children:[Object(p.jsx)(j.N,{className:"form-label",for:"TPid",children:"TPid"}),Object(p.jsx)(j.K,{id:"TPid",name:"TPid",disabled:!0,value:l.values.TPid,onChange:l.handleChange,invalid:l.touched.TPid&&l.errors.TPid}),l.touched.TPid&&l.errors.TPid?Object(p.jsx)(j.I,{children:l.errors.TPid}):null]}),Object(p.jsxs)(j.B,{xs:"12",sm:"6",md:"4",className:"mb-1",children:[Object(p.jsx)(j.N,{className:"form-label",for:"LoadId",children:"LoadId"}),Object(p.jsx)(j.K,{id:"LoadId",name:"LoadId",value:l.values.LoadId,onChange:l.handleChange,invalid:l.touched.LoadId&&l.errors.LoadId}),l.touched.LoadId&&l.errors.LoadId?Object(p.jsx)(j.I,{children:l.errors.LoadId}):null]}),Object(p.jsxs)(j.B,{xs:"12",sm:"6",md:"4",className:"mb-1",children:[Object(p.jsx)(j.N,{className:"form-label",for:"Tenant",children:"Tenant"}),Object(p.jsx)(j.K,{id:"Tenant",name:"Tenant",value:l.values.Tenant,onChange:l.handleChange,invalid:l.touched.Tenant&&l.errors.Tenant}),l.touched.Tenant&&l.errors.Tenant?Object(p.jsx)(j.I,{children:l.errors.Tenant}):null]}),Object(p.jsxs)(j.B,{xs:"12",sm:"6",md:"4",className:"mb-1",children:[Object(p.jsx)(j.N,{className:"form-label",for:"Category",children:"Category"}),Object(p.jsx)(j.K,{id:"Category",name:"Category",value:l.values.Category,onChange:l.handleChange,invalid:l.touched.Category&&l.errors.Category}),l.touched.Category&&l.errors.Category?Object(p.jsx)(j.I,{children:l.errors.Category}):null]}),Object(p.jsxs)(j.B,{xs:"12",sm:"6",md:"4",className:"mb-1",children:[Object(p.jsx)(j.N,{className:"form-label",for:"Subject",children:"Subject"}),Object(p.jsx)(j.K,{id:"Subject",name:"Subject",value:l.values.Subject,onChange:l.handleChange,invalid:l.touched.Subject&&l.errors.Subject}),l.touched.Subject&&l.errors.Subject?Object(p.jsx)(j.I,{children:l.errors.Subject}):null]})]}),Object(p.jsxs)(j.ib,{children:[Object(p.jsx)(j.B,{xs:"12",children:Object(p.jsx)(j.v,{children:"Rating Plan Activations"})}),Object(p.jsxs)(j.B,{xs:"12",sm:"6",md:"3",className:"mb-1",children:[Object(p.jsx)(j.N,{className:"form-label",for:"ActivationTime",children:"ActivationTime"}),Object(p.jsx)(g.a,{inputPlaceholder:"Click to open calendar",value:I,onChange:function(e){y(e),C(Object(r.a)(Object(r.a)({},N),{},{ActivationTime:"".concat(e.year,"-").concat(e.month,"-").concat(e.day,"T00:00:00Z")}))}})]}),Object(p.jsxs)(j.B,{xs:"12",sm:"6",md:"3",className:"mb-1",children:[Object(p.jsx)(j.N,{className:"form-label",for:"RatingPlanId",children:"RatingPlanId"}),Object(p.jsx)(j.K,{id:"RatingPlanId",name:"RatingPlanId",value:N.RatingPlanId,onChange:function(e){return C(Object(r.a)(Object(r.a)({},N),{},{RatingPlanId:e.target.value}))}})]}),Object(p.jsxs)(j.B,{xs:"12",sm:"6",md:"3",className:"mb-1",children:[Object(p.jsx)(j.N,{className:"form-label",for:"FallbackKeys",children:"FallbackKeys"}),Object(p.jsx)(j.K,{id:"FallbackKeys",name:"FallbackKeys",value:N.FallbackKeys,onChange:function(e){return C(Object(r.a)(Object(r.a)({},N),{},{FallbackKeys:e.target.value}))}})]}),Object(p.jsx)(j.B,{xs:"12",sm:"6",md:"3",className:"mb-1 d-flex align-items-end",children:Object(p.jsx)(m.a,{onClick:function(){var e=Object(i.a)(S);0===N.ActivationTime.length?b.b.error("Please enter ActivationTime."):0===N.RatingPlanId.length?b.b.error("Please enter RatingPlanId."):0===N.FallbackKeys.length?b.b.error("Please enter FallbackKeys."):(e.push(Object(r.a)(Object(r.a)({},N),{},{id:326782382*Math.random()})),t(Object(O.d)(e)),C({ActivationTime:"",RatingPlanId:"",FallbackKeys:""}),y(null))},outline:!0,color:"primary",type:"button",children:"Add"})}),Object(p.jsx)(j.B,{xs:"12",children:Object(p.jsx)(s.a,{noDataComponent:Object(p.jsx)("div",{style:{margin:"24px 0"},children:"No Rating Plan Activation Added Yet."}),noHeader:!0,columns:u.a,className:"react-dataTable",style:{background:"red"},sortIcon:Object(p.jsx)(o.a,{size:10}),data:S,theme:"dark"===e?"darkTheme":""})})]})]}),Object(p.jsx)(j.n,{className:"border-top d-flex justify-content-center",children:Object(p.jsx)(m.a,{loading:T.createRatingProfile,type:"submit",color:"primary",style:{minWidth:150},children:"Submit"})})]})})]})}},499:function(e,t,a){"use strict";var r=a(21),i=a(1),n=a(135),c=a(2),d=a.n(c),l=a(96),s=a(11);t.a=function(e){var t=e.data,a=e.title;return Object(s.jsx)("div",{className:"content-header row",children:Object(s.jsx)("div",{className:"content-header-left col-md-9 col-12 mb-2 w-100",children:Object(s.jsx)("div",{className:"row breadcrumbs-top",children:Object(s.jsxs)("div",{className:"col-12",children:[a?Object(s.jsx)("h2",{className:"content-header-title float-start mb-0",children:a}):"",Object(s.jsx)("div",{className:"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12",children:Object(s.jsxs)(l.g,{children:[Object(s.jsx)(l.h,{tag:"li",children:Object(s.jsx)(n.b,{to:"/",children:"Dashboard"})}),t.map((function(e,a){var c=e.link?n.b:i.Fragment,o=t.length-1===a;return Object(s.jsx)(l.h,{tag:"li",active:!o,className:d()({"text-primary":!o}),children:Object(s.jsx)(c,Object(r.a)(Object(r.a)({},e.link?{to:e.link}:{}),{},{children:e.title}))},a)}))]})})]})})})})}},501:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"f",(function(){return c})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"g",(function(){return o}));var r=a(508),i=r.b({TPid:r.d().required("The TPid field is required."),ID:r.d().required("The ID field is required.")}),n=r.b({TPid:r.d().required("The TPid field is required."),Tenant:r.d().required("The Tenant field is required."),ID:r.d().required("The ID field is required."),ActivationTime:r.d().required("The ActivationTime field is required."),ExpiryTime:r.d().required("The ExpiryTime field is required."),RunID:r.d().required("The RunID field is required."),FilterIDs:r.a().min(1).required("The FilterIDs field is required."),AttributeIDs:r.a().min(1).required("The AttributeIDs field is required.")}),c=r.b({TPid:r.d().required("The TPid field is required."),ID:r.d().required("The ID field is required."),MonthDays:r.d().required("The MonthDays field is required."),Months:r.d().required("The Months field is required."),Time:r.d().required("The Time field is required."),WeekDays:r.d().required("The WeekDays field is required."),Years:r.d().required("The Years field is required.")}),d=r.b({TPid:r.d().required("The TPid field is required."),ID:r.d().required("The ID field is required."),Prefixes:r.a().min(1).required("The Prefixes field is required.")}),l=r.b({TPid:r.d().required("The TPid field is required."),LoadId:r.d().required("The LoadId field is required."),Tenant:r.d().required("The Tenant field is required."),Category:r.d().required("The Category field is required."),Subject:r.d().required("The Subject field is required.")}),s=r.b({Account:r.d().required("The Account field is required."),Tenant:r.d().required("The Tenant field is required."),ActionPlanIDs:r.b().nullable(!1).required("The ActionPlanIDs field is required."),ActionTriggerIDs:r.b().nullable(!1).required("The ActionTriggerIDs field is required."),Balances:r.a().min(1,"You should select a balance.").required("You should select a balance.")}),o=r.b({Account:r.d().required("The Account field is required."),Tenant:r.d().required("The Tenant field is required."),ActionTriggerIDs:r.b().nullable(!1).required("The ActionTriggerIDs field is required."),Balances:r.a().min(1,"You should select a balance.").required("You should select a balance.")})},531:function(e,t,a){"use strict";var r=a(21),i=a(137),n=(a(532),a(570)),c=a.n(n),d=a(549),l=a(502),s=a(11),o=["inputClassName","minimumDate","maximumDate"];t.a=function(e){var t=e.inputClassName,a=e.minimumDate,n=e.maximumDate,u=Object(i.a)(e,o),b=Object(l.a)().skin;return Object(s.jsxs)("div",{className:"custom_datepicker_wrapper",children:[Object(s.jsx)(c.a,Object(r.a)({colorPrimary:"#73bcf0",colorPrimaryLight:"#73bcf03b",inputClassName:"".concat(t,"\n          ").concat("light"===b?"custom_datepicker":"custom_datepicker_dark","\n        "),minimumDate:a,maximumDate:n,locale:"en",calendarPopperPosition:"top",calendarClassName:"responsive-calendar"},u)),Object(s.jsx)(d.b,{fontSize:20})]})}},532:function(e,t,a){},676:function(e,t,a){"use strict";var r=a(137),i=a(4),n=a(21),c=a(7),d=a(16),l=a(1),s=a(512),o=a(136),u=a(511),b=a(138),j=a(9),m=a(501),h=a(145),f=["id"],O=["id"];t.a=function(){var e=Object(o.b)(),t=Object(j.f)(),a=Object(u.a)().httpService,v=Object(l.useState)({getRatingProfiles:!1,getEntityById:!1,createRatingProfile:!1,updateRatingProfile:!1,deleteEntity:!1}),g=Object(d.a)(v,2),p=g[0],T=g[1],x=Object(l.useState)([]),P=Object(d.a)(x,2),I=P[0],y=P[1],q=Object(o.c)((function(e){return e.ratingProfiles.slots})),R=Object(o.c)((function(e){return e.app.selectedTpId})),N=function(){var e=Object(c.a)(Object(i.a)().mark((function e(){var t,r,c,d;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,T(Object(n.a)(Object(n.a)({},p),{},{getRatingProfiles:!0})),e.next=5,a.post("",{method:"APIerSv1.GetTPRatingProfileIds",params:[{TPid:R}]});case 5:d=e.sent,T(Object(n.a)(Object(n.a)({},p),{},{getRatingProfiles:!1})),null===d||void 0===d||null===(r=d.data)||void 0===r||null===(c=r.result)||void 0===c||c.map((function(e){t.push({ID:e})})),y(t),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.err,e.t0.response,T(Object(n.a)(Object(n.a)({},p),{},{getRatingProfiles:!1}));case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var r=Object(c.a)(Object(i.a)().mark((function r(c){var d,l,s,o,u,j,m,f,O,v,g,x,P,I,y;return Object(i.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,T(Object(n.a)(Object(n.a)({},p),{},{getEntityById:!0})),r.next=4,a.post("",{method:"APIerSv1.GetTPRatingProfile",params:[{TPid:R,RatingProfileID:c}]});case 4:l=r.sent,T(Object(n.a)(Object(n.a)({},p),{},{getEntityById:!1})),"NOT_FOUND"===(null===l||void 0===l||null===(d=l.data)||void 0===d?void 0:d.error)?(b.b.error(null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.error),t("/rules/rating_profiles")):(A.setFieldValue("ID",null===l||void 0===l||null===(o=l.data)||void 0===o||null===(u=o.result)||void 0===u?void 0:u.ID),A.setFieldValue("LoadId",null===l||void 0===l||null===(j=l.data)||void 0===j||null===(m=j.result)||void 0===m?void 0:m.LoadId),A.setFieldValue("Tenant",null===l||void 0===l||null===(f=l.data)||void 0===f||null===(O=f.result)||void 0===O?void 0:O.Tenant),A.setFieldValue("Category",null===l||void 0===l||null===(v=l.data)||void 0===v||null===(g=v.result)||void 0===g?void 0:g.Category),A.setFieldValue("Subject",null===l||void 0===l||null===(x=l.data)||void 0===x||null===(P=x.result)||void 0===P?void 0:P.Subject),e(Object(h.d)(null===l||void 0===l||null===(I=l.data)||void 0===I||null===(y=I.result)||void 0===y?void 0:y.RatingPlanActivations))),r.next=14;break;case 9:r.prev=9,r.t0=r.catch(0),r.t0.err,r.t0.response,T(Object(n.a)(Object(n.a)({},p),{},{getEntityById:!1}));case 14:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}(),S=Object(s.a)({initialValues:{TPid:R,LoadId:"",Tenant:"",Category:"",Subject:"",Overwrite:!0,RatingPlanActivations:[],APIOpts:{}},validationSchema:m.e,enableReinitialize:!0,onSubmit:function(e){0===q.length?b.b.error("You must add at least one rating plan activation."):k(e,q)}}),k=function(){var d=Object(c.a)(Object(i.a)().mark((function c(d,l){var s,o;return Object(i.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=l.map((function(e){e.id;return Object(r.a)(e,f)})),i.prev=1,T(Object(n.a)(Object(n.a)({},p),{},{createRatingProfile:!0})),i.next=5,a.post("",{method:"APIerSv1.SetTPRatingProfile",params:[{TPid:R,LoadId:d.LoadId,Tenant:d.Tenant,Category:d.Category,Subject:d.Subject,Overwrite:d.Overwrite,RatingPlanActivations:s,APIOpts:{}}]});case 5:o=i.sent,T(Object(n.a)(Object(n.a)({},p),{},{createRatingProfile:!1})),200===o.status&&(b.b.success("Successfully Created!"),t("/rules/rating_profiles"),e(Object(h.d)([]))),i.next=15;break;case 10:i.prev=10,i.t0=i.catch(1),i.t0.err,i.t0.response,T(Object(n.a)(Object(n.a)({},p),{},{createRatingProfile:!1}));case 15:case"end":return i.stop()}}),c,null,[[1,10]])})));return function(e,t){return d.apply(this,arguments)}}(),A=Object(s.a)({initialValues:{TPid:R,LoadId:"",Tenant:"",Category:"",Subject:"",Overwrite:!0,RatingPlanActivations:[],APIOpts:{}},validationSchema:m.e,enableReinitialize:!0,onSubmit:function(e){0===q.length?b.b.error("You must add at least one rating plan activation."):D(e,q)}}),D=function(){var d=Object(c.a)(Object(i.a)().mark((function c(d,l){var s,o;return Object(i.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=l.map((function(e){e.id;return Object(r.a)(e,O)})),i.prev=1,T(Object(n.a)(Object(n.a)({},p),{},{updateRatingProfile:!0})),i.next=5,a.post("",{method:"APIerSv1.SetTPRatingProfile",params:[{TPid:R,LoadId:d.LoadId,Tenant:d.Tenant,Category:d.Category,Subject:d.Subject,Overwrite:d.Overwrite,RatingPlanActivations:s,APIOpts:{}}]});case 5:o=i.sent,T(Object(n.a)(Object(n.a)({},p),{},{updateRatingProfile:!1})),200===o.status&&(b.b.success("Successfully Updated!"),t("/rules/rating_profiles"),e(Object(h.d)([]))),i.next=15;break;case 10:i.prev=10,i.t0=i.catch(1),i.t0.err,i.t0.response,T(Object(n.a)(Object(n.a)({},p),{},{updateRatingProfile:!1}));case 15:case"end":return i.stop()}}),c,null,[[1,10]])})));return function(e,t){return d.apply(this,arguments)}}(),w=function(){var t=Object(c.a)(Object(i.a)().mark((function t(r){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,T(Object(n.a)(Object(n.a)({},p),{},{deleteEntity:!0})),t.next=4,a.post("",{method:"APIerSv1.RemoveTPRatingProfile",params:[{TPid:R,RatingProfileID:r}]});case 4:t.sent,T(Object(n.a)(Object(n.a)({},p),{},{deleteEntity:!1})),e(Object(h.b)(null)),b.b.success("Successfully Deleted."),N(),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),t.t0.err,t.t0.response,T(Object(n.a)(Object(n.a)({},p),{},{deleteEntity:!1}));case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}();return{getRatingProfiles:N,getEntityById:C,createRatingProfileController:S,updateRatingProfileController:A,deleteEntity:w,listData:I,loadings:p}}},816:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a(96),i=a(136),n=a(145),c=a(11),d=function(e){var t=e.id,a=Object(i.b)(),d=Object(i.c)((function(e){return e.ratingProfiles.slots}));return Object(c.jsx)(r.i,{onClick:function(){return a(Object(n.d)(d.filter((function(e){return e.id!==t}))))},style:{padding:6},size:"sm",color:"danger",type:"button",children:"Delete"})},l=[{name:"ActivationTime",minWidth:"100px",selector:function(e){return e.ActivationTime}},{name:"RatingPlanId",minWidth:"100px",selector:function(e){return e.RatingPlanId}},{name:"FallbackKeys",minWidth:"100px",selector:function(e){return e.FallbackKeys}},{name:"Actions",minWidth:"120px",maxWidth:"120px",selector:function(e){return e.id},cell:function(e){return Object(c.jsx)(d,{id:e.id})}}]}}]);
//# sourceMappingURL=71.ff76ca78.chunk.js.map